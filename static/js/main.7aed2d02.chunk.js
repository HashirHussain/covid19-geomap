(this["webpackJsonpcovid19-geomap"]=this["webpackJsonpcovid19-geomap"]||[]).push([[0],{26:function(e,t,a){e.exports=a(36)},31:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(20),i=a.n(o),c=(a(31),a(5)),s=a(4),l=a(7),u=a(6),d=a(2),p=a(8),f=a(12),m=a.n(f),b=a(21),h=a(15),v=a(23),y={id:"data",type:"fill",paint:{"fill-color":{property:"percentile",stops:[[0,"#3288bd"],[1,"#66c2a5"],[2,"#abdda4"],[3,"#e6f598"],[4,"#ffffbf"],[5,"#fee08b"],[6,"#fdae61"],[7,"#f46d43"],[8,"#d53e4f"]]},"fill-opacity":.6}},g=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"information-panel"},r.a.createElement("h4",null,"COVID19 geographical outbreaks Country wise"),r.a.createElement("ul",null,r.a.createElement("li",{style:{background:"#d53e4f"}},"Highest confirmed cases"),r.a.createElement("li",{style:{background:"#f46d43"}},"\xa0"),r.a.createElement("li",{style:{background:"#fee08b"}},"\xa0"),r.a.createElement("li",{style:{background:"#ffffbf",color:"#908a8a"}},"outbreak situation start"),r.a.createElement("li",{style:{background:"#e6f598"}},"\xa0"),r.a.createElement("li",{style:{background:"#abdda4"}},"\xa0"),r.a.createElement("li",{style:{background:"#66c2a5"}},"\xa0"),r.a.createElement("li",{style:{background:"#3288bd"}},"Lowest confirmed cases"),r.a.createElement("li",{style:{background:"#000000"}},"Records not available")),r.a.createElement("p",null,"Developed by"," ",r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/hashir-hussain/",target:"_blank"},"Hashir Hussain")))}}]),t}(n.PureComponent),E=a(17),k=a(39),w=a(40);var j=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://coronavirus-tracker-api.herokuapp.com/v2/locations?timelines=0");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O={width:"100%",height:"100vh",latitude:21,longitude:78,zoom:2,bearing:0,pitch:0},_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._loadData=function(e){return a.setState({data:e})},a._setViewport=function(e){return a.setState({viewport:e})},a._onHover=function(e){var t=e.features,n=e.srcEvent,r=n.offsetX,o=n.offsetY,i=t&&t.find((function(e){return"data"===e.layer.id}));a.setState({hoveredFeature:i,x:r,y:o})},a.state={data:null,hoveredFeature:null,viewport:O},a._setViewport=a._setViewport.bind(Object(d.a)(a)),a._onHover=a._onHover.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)("https://raw.githubusercontent.com/datasets/geo-countries/master/data/countries.geojson",(function(t,a){t||j().then((function(t){var n=function(e,t){var a=e.features,n=function(e){var t=e.locations,a={};return t.forEach((function(e){a[e.country_code]=(a[e.country_code]||0)+e.latest.confirmed})),a}(t),r=Object(w.a)().domain(Object.values(n)).range(Object(k.a)(9));return{type:"FeatureCollection",features:a.map((function(e){var t=n[e.properties.ISO_A2],a=Object(E.a)({},e.properties,{name:e.properties.ADMIN,value:t,percentile:r(t)});return Object(E.a)({},e,{properties:a})}))}}(a,t);e._loadData(n)}))}))}},{key:"_renderTooltip",value:function(){var e=this.state,t=e.hoveredFeature,a=e.x,n=e.y;return t&&r.a.createElement("div",{className:"tooltip",style:{left:a,top:n}},r.a.createElement("div",null,"Country: ",t.properties.name),r.a.createElement("div",null,"Confirmed Cases: ",t.properties.value))}},{key:"render",value:function(){var e=this.state,t=e.viewport,a=e.data;return a?r.a.createElement("div",{style:{height:"100vh",position:"relative"}},r.a.createElement(h.c,Object.assign({mapboxApiAccessToken:"pk.eyJ1IjoiaGFzaGlyaHVzc2FpbiIsImEiOiJjazgxaDZzODEwcnVzM2tsbmsxZXgzZW1lIn0.yNbZXvkCJc77xIg6EHHfUw"},t,{onViewportChange:this._setViewport,onHover:this._onHover}),r.a.createElement(h.b,{type:"geojson",data:a},r.a.createElement(h.a,y)),this._renderTooltip()),r.a.createElement(g,null)):r.a.createElement("div",null,"Fetching records, this may take upto few seconds...")}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.7aed2d02.chunk.js.map